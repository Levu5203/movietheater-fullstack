<div class="mx-auto p-4 bg-white shadow-lg rounded-lg">
    <h2 class="text-xl font-bold mb-3">Promotion List</h2>
  
    <div class="flex items-center justify-between mb-4">
      <div class="flex items-center mb-0.5">
          <input
           type="text" placeholder="Enter key word" class="flex-1 px-4 py-2 rounded-3xl bg-gray-200 cursor-pointer focus:outline-none"
           [(ngModel)]="searchKeyword"
           [ngModelOptions]="{standalone: true}"
           (input)="updateSearchResults()"
           />
      </div>
      <button class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600">
        <a href="./admin/addpromotion">Add new promotion</a>
      </button>
    </div>
  
    <!-- Bảng khuyến mãi đã chỉnh style giống bảng dưới -->
    <div class=" bg-white  rounded-md shadow-md">
      <div class="">
        <table class="w-full text-sm border-b border-gray-300">
          <thead class="bg-blue-100 border-t border-gray-300">
            <tr class="*:p-2 *:border *:border-gray-200 *:text-center">
              <th class="text-center w-12">No</th>
              <th class="text-center">Title</th>
              <th class="text-center">Start Time</th>
              <th class="text-center">End Time</th>
              <th class="text-center">Discount Level</th>
              <th class="text-center">Detail</th>
              <th class="text-center w-28">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let promotion of displayedPromotions; let i = index"
                class="*:p-2 border-t border-gray-300 hover:bg-gray-100 *:text-center">
              <td class="text-center">{{ getRowIndex(i)  }}</td>
              <td class="text-center">{{ promotion.promotionTitle }}</td>
              <td class="text-center">{{ promotion.startDate }}</td>
              <td class="text-center">{{ promotion.endDate }}</td>
              <td class="text-center">{{ promotion.discount * 100 }} %</td>
              <td class="text-center">{{ promotion.description }}</td>
              <td class="text-center">
                <div class="flex justify-center space-x-2 *:cursor-pointer">
                  <button title="Edit" type="button" (click)="updatePromotion(promotion.id)" class="border-0">
                    <fa-icon [icon]="faEdit" class="text-blue-500 hover:text-blue-700"></fa-icon>
                  </button>
                  <button title="Delete" type="button" (click)="deletePromotion(promotion.id)" class="border-0">
                    <fa-icon [icon]="faTrash" class="text-red-500 hover:text-red-700 w-5 h-5"></fa-icon>
                  </button>
                </div>
              </td>
            </tr>
            <tr *ngIf="displayedPromotions.length === 0">
              <td colspan="7" class="text-center py-2">No data found</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Mobile View -->
      <div class="md:hidden">
        <div *ngFor="let promotion of displayedPromotions, let i = index" class="flex justify-between border-b border-[#E8F1FD] p-4 bg-white items-center">
          <div>
            <p class="font-bold"># {{ getRowIndex(i) }}</p>
            <p><span class="font-semibold">Title:</span> {{ promotion.promotionTitle }}</p>
            <p><span class="font-semibold">Start Time:</span> {{ promotion.startDate }}</p>
            <p><span class="font-semibold">End Time:</span> {{ promotion.endDate }} min</p>
            <p><span class="font-semibold">Discount Level:</span> {{ promotion.discount * 100 }}</p>
            <p><span class="font-semibold">Detail:</span> {{ promotion.description }}</p>
          </div>
          
          <div class="flex gap-4 ml-auto">
            <button class="text-blue-500 hover:text-blue-700">
              <a href="./admin/updatepromotion">
                <fa-icon [icon]="faEdit" class="text-gray-500"></fa-icon>
              </a>
            </button>
            <button class="text-red-500 hover:text-red-700">
              <a href="">
                <fa-icon [icon]="faTrash" class="text-gray-500"></fa-icon>
              </a>
            </button>
          </div>
        </div>
      </div>

      <!-- Pagination -->
      <div class="flex justify-center items-center py-4 px-10 text-sm">
        <button (click)="firstPage()"
          class="w-8 h-8 flex justify-center items-center text-gray-500 px-4 py-1 rounded hover:bg-gray-100 cursor-pointer"
          [disabled]="currentPage === 1">
          <fa-icon [icon]="faAnglesLeft"></fa-icon>
        </button>
        <button (click)="prevPage()"
          class="w-8 h-8 flex justify-center items-center text-gray-500 px-4 py-1 rounded hover:bg-gray-100 cursor-pointer"
          [disabled]="currentPage === 1">
          <fa-icon [icon]="faAngleLeft"></fa-icon>
        </button>

        <div class="flex items-center mx-4">
          <span>Page</span>
          <input type="number" [ngModel]="currentPage" (ngModelChange)="goToPage($event)"
              class="w-12 mx-2 text-center border rounded" min="1" [max]="totalPages">
          <span>/ {{ totalPages }}</span>
        </div>

        <button (click)="nextPage()"
          class="w-8 h-8 flex justify-center items-center text-gray-500 px-4 py-1 rounded hover:bg-gray-100 cursor-pointer"
          [disabled]="currentPage === totalPages">
          <fa-icon [icon]="faAngleRight"></fa-icon>
        </button>
        <button (click)="lastPage()"
          class="w-8 h-8 flex justify-center items-center text-gray-500 px-4 py-1 rounded hover:bg-gray-100 cursor-pointer"
          [disabled]="currentPage === totalPages">
          <fa-icon [icon]="faAnglesRight"></fa-icon>
        </button>
      </div>
    </div>

  </div>
  